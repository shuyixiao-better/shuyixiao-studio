# 评论功能 - 快速启动指南

## 🚀 5分钟快速配置

### 步骤 1: 配置环境变量

在 Netlify 后台添加以下环境变量：

```bash
# 邮件配置（复用现有配置）
SMTP_HOST=smtp.163.com
SMTP_PORT=465
SMTP_USER=your-email@163.com
SMTP_PASS=your-authorization-password

# 评论功能新增配置
ADMIN_EMAIL=your-email@163.com        # 接收评论通知
ADMIN_PASSWORD=your-strong-password   # 删除评论密码
```

### 步骤 2: 重新部署

配置完成后，在 Netlify 后台触发重新部署。

### 步骤 3: 测试功能

1. 访问你的网站任意文章
2. 滚动到底部查看评论区
3. 发表一条测试评论
4. 检查邮箱是否收到通知

## ✅ 功能特性

- 📝 支持文字评论（最多500字）
- 🖼️ 支持图片上传（最多3张，每张2MB）
- 🗑️ 支持删除评论（需要管理员密码）
- 📧 新评论邮件通知
- 📱 响应式设计，移动端友好

## 🎯 使用技巧

### 发表评论
1. 填写昵称和评论内容
2. 可选：点击"📷 上传图片"添加图片
3. 点击"发表评论"按钮

### 删除评论
1. 按住 `Shift` 键 3 秒
2. 点击评论右侧的 🗑️ 按钮
3. 输入管理员密码确认删除

## 📊 部署对比

| 功能 | Netlify | GitHub Pages |
|------|---------|--------------|
| 评论功能 | ✅ 完整支持 | ❌ 不支持 |
| 数据存储 | ✅ Netlify Blobs | ❌ 无 |
| 邮件通知 | ✅ 支持 | ❌ 不支持 |
| 图片上传 | ✅ 支持 | ❌ 不支持 |

**建议**: 主要使用 Netlify 部署，GitHub Pages 作为备用镜像。

## 🔧 本地开发

```bash
# 1. 配置环境变量
cp .env.example .env
# 编辑 .env 填入真实配置

# 2. 启动开发服务器
pnpm docs:dev:netlify

# 3. 访问测试
# http://localhost:8888
```

## 📚 详细文档

查看完整配置指南: [评论功能配置指南.md](./评论功能配置指南.md)

## ❓ 常见问题

**Q: GitHub Pages 为什么不支持评论？**  
A: GitHub Pages 是纯静态托管，不支持服务端功能。

**Q: 评论数据存储在哪里？**  
A: 存储在 Netlify Blobs 中，持久化存储，不会丢失。

**Q: 如何修改删除密码？**  
A: 在 Netlify 后台修改 `ADMIN_PASSWORD` 环境变量。

**Q: 可以关闭邮件通知吗？**  
A: 可以，删除 `ADMIN_EMAIL` 环境变量即可。

## 🎨 自定义样式

评论组件样式可在以下文件中修改：
```
docs/.vitepress/theme/components/Comments.vue
```

## 🔐 安全提示

1. 使用强密码作为 `ADMIN_PASSWORD`
2. 不要在代码中硬编码密码
3. 定期更换管理员密码
4. 妥善保管 `.env` 文件

## 📞 技术支持

如遇问题，请查看：
- 详细配置指南
- Netlify Functions 日志
- 浏览器控制台错误信息
