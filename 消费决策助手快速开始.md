# 消费决策助手 - 快速开始 🚀

## ✅ 功能已实现

恭喜！消费决策助手 MVP 版本已全部实现，包含以下功能：

### 🎯 核心功能

1. **✅ AI对话界面** - 完整的对话交互体验
2. **✅ 知识库增强（RAG）** - 内置消费知识库，提升AI建议质量
3. **✅ Markdown渲染** - AI回复支持Markdown格式
4. **✅ 响应式设计** - 完美支持手机端和小程序
5. **✅ 环境变量配置** - 所有敏感信息通过环境变量管理
6. **✅ 环境检测** - 仅在Netlify环境显示，GitHub Pages自动隐藏

## 📋 配置步骤（3步）

### 第1步：获取魔力方舟 API Key

1. 访问 [Gitee AI 平台](https://ai.gitee.com)
2. 注册/登录账号
3. 创建应用或获取 API Key
4. 复制 API Key

### 第2步：配置 Netlify 环境变量

1. 登录 [Netlify](https://app.netlify.com/)
2. 选择站点 → **Site settings** → **Environment variables**
3. 添加以下变量：

```
MOFA_API_KEY = 你的API Key
MOFA_BASE_URL = https://ai.gitee.com/v1
MOFA_MODEL = Qwen3-235B-A22B-Instruct-2507
MOFA_TEMPERATURE = 1
MOFA_MAX_TOKENS = 0
```

**可选配置**（自定义AI行为）：
```
MOFA_SYSTEM_PROMPT = 你的自定义提示词
```

### 第3步：重新部署

在 Netlify 后台点击 **Deploys** → **Trigger deploy** → **Deploy site**

## 🎉 完成！

访问你的网站：
```
https://你的域名/tools/consumer-copilot/
```

或者通过工具页面：
```
https://你的域名/tools/
```

点击"消费决策助手"卡片即可使用！

## 💡 使用示例

### 示例问题1
```
问：Nike 工装裤 699 军绿色值得买吗？
```

### 示例问题2
```
问：滔博的Nike黑色为什么不参与65折？
```

### 示例问题3
```
问：这款耳机999元，有更好的替代方案吗？
```

## 📱 小程序/手机端

组件已完全响应式设计，支持：
- ✅ 手机浏览器
- ✅ 微信小程序内嵌（WebView）
- ✅ 平板设备

## 🔒 安全说明

- ✅ API Key 通过环境变量存储，不会泄露
- ✅ 代码可安全推送到公开仓库
- ✅ `.env` 文件已在 `.gitignore` 中
- ✅ Netlify 环境变量安全存储

## 📚 详细文档

完整配置说明请查看：[消费决策助手配置指南.md](./消费决策助手配置指南.md)

## 🛠️ 技术栈

- **前端**：Vue 3 + VitePress
- **后端**：Netlify Functions
- **AI平台**：魔力方舟（Gitee AI）
- **Markdown**：marked.js
- **知识库**：静态JSON + RAG

## 📂 文件清单

```
netlify/functions/
  └── chat.mjs                      # AI对话后端函数

docs/.vitepress/
  ├── theme/components/
  │   └── ConsumerCopilot.vue       # AI对话前端组件
  └── data/
      └── consumer-knowledge.json   # 消费知识库

docs/tools/
  ├── consumer-copilot/
  │   └── index.md                  # 功能页面
  └── index.md                      # 工具列表（已添加卡片）

消费决策助手配置指南.md              # 详细配置文档
消费决策助手快速开始.md              # 本文档
```

## 🎨 功能特性

### 对话功能
- ✅ 多轮对话支持
- ✅ 对话历史管理
- ✅ 清空对话功能
- ✅ 示例问题快速填充

### UI/UX
- ✅ 精美的消息气泡设计
- ✅ 打字动画效果
- ✅ 自动滚动到最新消息
- ✅ 加载状态提示
- ✅ Toast 消息提示

### 知识库
- ✅ 10条消费规则知识
- ✅ 5大分类（电商折扣、消费心理学等）
- ✅ 可随时扩展

## 🆘 遇到问题？

### 问题1：提示"AI服务配置错误"
**解决**：检查 `MOFA_API_KEY` 是否已配置

### 问题2：提示"API Key认证失败"
**解决**：确认API Key正确，重新部署

### 问题3：GitHub Pages不可用
**原因**：正常现象，功能仅在Netlify可用

### 问题4：Markdown不渲染
**解决**：检查marked依赖是否安装

## 🚀 下一步优化建议

1. **流式输出** - 支持实时显示AI回复
2. **对话持久化** - 使用localStorage保存对话历史
3. **分享功能** - 生成消费洞察卡片
4. **知识库扩展** - 添加更多消费规则
5. **数据分析** - 统计常见问题类型

---

**现在就开始使用吧！** 🎉

